FROM python:3.10-slim

# Instala MLflow y otras dependencias necesarias
RUN pip install --no-cache-dir mlflow

# Crea un directorio de trabajo
WORKDIR /app

# Copia solo la carpeta mlruns desde tu repo (Render va a reconstruirlo con base en tu repo)
COPY mlruns /app/mlruns

# Expone el puerto que MLflow usa por defecto
EXPOSE 5000

# Comando para correr MLflow UI
CMD ["mlflow", "ui", "--host", "0.0.0.0", "--port", "5000"]
