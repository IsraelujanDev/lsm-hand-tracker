FROM python:3.10-slim

# Instala MLflow y dependencias mínimas
RUN pip install --no-cache-dir mlflow==3.1.0

# Crea carpeta de trabajo
WORKDIR /app

# Copia carpeta mlruns simbólica
COPY ./mlruns ./mlruns

# Expón el puerto que usará MLflow
EXPOSE 5000

# Comando para lanzar MLflow UI
CMD ["mlflow", "ui", "--host", "0.0.0.0", "--port", "5000"]

COPY mlruns ./mlruns